{"id":14,"name":"comilaoComBanco","agents":[{"archClass":"Jason","name":"comilao","sourceCode":"estoqueComida(0).\nenergia(0).\n\n!curtir.\n\n+!comer: sintoFome & estoqueComida(C) & C>3 & energia(E) & E<=10 <-\n\t-+estoqueComida(C-3);\n\t-+energia(E+3);\n\t.print(\"Comendo........ [Geladeira=\",C-3,\"] [Energia=\",E+3,\"]\");\n\t.wait(1000);\n\t!comer.\n\t\n+!comer: energia(E) & E>10\t<-\n\t.print(\"Satisfeito...... [Energia=\",E,\"]\");\n\t-sintoFome;\n\t.wait(2000);\n\t!curtir.\n\n+!comer <-\n\t?estoqueComida(X);\n\t.print(\"Preciso pedir comida..... [Geladeira=\",X,\"]\");\n\t.wait(2000);\n\t!pedirComida.\n\n+!curtir: energia(E) & E>5 <-\n\t.print(\"Curtindo....\");\n\t.wait(2000);\n\t-+energia(E-3);\n\t-sintoFome;\n\t!curtir.\n\n+!curtir: energia(E) & E<=5<-\n\t?energia(X);\n\t.print(\"Sem Energia..... [Energia=\",X,\"]\");\n\t+sintoFome;\n\t.wait(2000);\n\t!comer.\n\n+!pedirComida <-\n\t.print(\"Pedindo Comida\");\n\t.send(banco,achieve,pix(cozinheiro,5));\n\t.wait(1000);\n\t?operacao(CodPix,comilao,cozinheiro,5);\n\t.send(cozinheiro,achieve,pedido(lanche,5,CodPix));\n\t-operacao(CodPix,comilao,cozinheiro,5);\n\t.wait(5000);\n\t!comer.\n\n+entregaComida(Product,Qtd)[source(Entregador)] <-\n\t?estoqueComida(X);\n\t-+estoqueComida(X+Qtd);\n\t.print(\"Oba! Chegou comida!!!!\");\n\t-entregaComida(Product,Qtd)[source(Entregador)].\n\t\n+semDinheiro[source(banco)] <-\n\t.drop_desire(curtir);\n\t.drop_desire(pedirComida);\n\t.print(\"Ababou a festa :(\")."},{"archClass":"Jason","name":"cozinheiro","sourceCode":"ultimoPedido(0).\n\n!aguardarPedidos.\n\n+!aguardarPedidos: not preparandoPedido <-\n\t.print(\"Aguardando Pedidos\");\n\t.wait(5000);\n\t!aguardarPedidos.\n\n+!aguardarPedidos: preparandoPedido<-\n\t.wait(10000);\n\t!aguardarPedidos.\n\n+!pedido(Product,Qtd,Pix)[source(Cliente)] <-\n\t.send(banco,askOne,operacao(Pix,Cliente,cozinheiro,Qtd),Reply);\n\t+Reply;\n\t?operacao(Registro,Cliente,cozinheiro,Qtd);\n\t+preparandoPedido;\n\t!prepararPedido(Product,Qtd,Pix,Registro,Cliente);\n\t+atendido(Pix);\n\t-preparandoPedido.\n\n+!prepararPedido(Product,Qtd,Pix,Validacao,Cliente): Pix=Validacao & not atendido(Pix)<-\n\t?ultimoPedido(N);\n\tNrPedido=N+1;\n\t-+ultimoPedido(NrPedido);\n\t.print(\"Preparando o pedido Nr \",NrPedido);\n\t.wait(2000);\n\t.send(Cliente,tell,entregaComida(Product,Qtd)).\n\t\n-!prepararPedido(Product,Qtd,Pix,Validacao,Cliente) <-\n\t.print(\"Pix inválido ou já atendido\")."},{"archClass":"Jason","name":"banco","sourceCode":"saldo(comilao,20).\nsaldo(cozinheiro,10).\n\n+!pix(Destino,Valor)[source(Origem)]: saldo(Origem,Saldo) & Saldo >= Valor<-\n\t\n\tNovoSaldo = Saldo - Valor;\n\t-saldo(Origem,Saldo);\n\t+saldo(Origem,NovoSaldo);\n\t\n\t?saldo(Destino,SaldoDestino);\n\tNovoSaldoDestino = SaldoDestino + Valor;\n\t-saldo(Destino,SaldoDestino);\n\t+saldo(Destino,NovoSaldoDestino);\n\t\n\t.random(NrRegistro);\n\t+operacao(NrRegistro,Origem,Destino,Valor);\n\t.print(\"Pix realizado de [\",Origem,\"] para [\",Destino,\n\t\t\t\"] valor [\",Valor,\"] código [\",NrRegistro,\"]\");\n\t.send(Origem,tell,operacao(NrRegistro,Origem,Destino,Valor)).\n\t\n+!pix(Destino,Valor)[source(Origem)]: saldo(Origem,Saldo) & Saldo < Valor<-\n\t.print(\"Saldo insuficiente...  saldo=\",Saldo);\n\t.send(Origem,tell,semDinheiro)."}],"firmwares":[]}